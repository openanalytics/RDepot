--
-- PostgreSQL database dump
--

-- Dumped from database version 16.2
-- Dumped by pg_dump version 16.2

\connect declarative

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: access_token; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.access_token (
    id integer NOT NULL,
    user_id integer NOT NULL,
    name text NOT NULL,
    value text NOT NULL,
    creation_date date DEFAULT CURRENT_DATE NOT NULL,
    expiration_date date NOT NULL,
    active boolean DEFAULT true,
    deleted boolean DEFAULT false
);


ALTER TABLE public.access_token OWNER TO postgres;

--
-- Name: access_token_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.access_token ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.access_token_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: api_token; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.api_token (
    id integer NOT NULL,
    token character varying(255) NOT NULL,
    user_login character varying(255) NOT NULL
);


ALTER TABLE public.api_token OWNER TO postgres;

--
-- Name: api_token_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.api_token ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.api_token_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: changed_variable; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.changed_variable (
    id integer NOT NULL,
    changed_variable character varying(16) NOT NULL,
    value_before text NOT NULL,
    value_after text NOT NULL,
    newsfeed_event_id integer NOT NULL,
    deleted boolean DEFAULT false NOT NULL
);


ALTER TABLE public.changed_variable OWNER TO postgres;

--
-- Name: changed_variable_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.changed_variable ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.changed_variable_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: databasechangelog; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.databasechangelog (
    id character varying(255) NOT NULL,
    author character varying(255) NOT NULL,
    filename character varying(255) NOT NULL,
    dateexecuted timestamp without time zone NOT NULL,
    orderexecuted integer NOT NULL,
    exectype character varying(10) NOT NULL,
    md5sum character varying(35),
    description character varying(255),
    comments character varying(255),
    tag character varying(255),
    liquibase character varying(20),
    contexts character varying(255),
    labels character varying(255),
    deployment_id character varying(10)
);


ALTER TABLE public.databasechangelog OWNER TO postgres;

--
-- Name: databasechangeloglock; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.databasechangeloglock (
    id integer NOT NULL,
    locked boolean NOT NULL,
    lockgranted timestamp without time zone,
    lockedby character varying(255)
);


ALTER TABLE public.databasechangeloglock OWNER TO postgres;

--
-- Name: newsfeed_event; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.newsfeed_event (
    id integer NOT NULL,
    "time" time with time zone DEFAULT now() NOT NULL,
    date date DEFAULT now() NOT NULL,
    newsfeed_event_type character varying(16) NOT NULL,
    author_id integer,
    related_packagemaintainer_id integer,
    related_repositorymaintainer_id integer,
    related_user_id integer,
    related_submission_id integer,
    related_repository_id integer,
    related_package_id integer,
    deleted boolean DEFAULT false NOT NULL,
    related_accesstoken_id integer
);


ALTER TABLE public.newsfeed_event OWNER TO postgres;

--
-- Name: newsfeed_event_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.newsfeed_event ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.newsfeed_event_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: package; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.package (
    id integer NOT NULL,
    name text NOT NULL,
    version text NOT NULL,
    description text,
    author text,
    user_maintainer_id integer NOT NULL,
    repository_id integer NOT NULL,
    url text,
    source text NOT NULL,
    title text,
    active boolean DEFAULT false NOT NULL,
    deleted boolean DEFAULT false NOT NULL,
    resource_technology text NOT NULL
);


ALTER TABLE public.package OWNER TO postgres;

--
-- Name: package_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.package ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.package_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: package_maintainer; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.package_maintainer (
    id integer NOT NULL,
    user_id integer NOT NULL,
    package text NOT NULL,
    repository_id integer NOT NULL,
    deleted boolean DEFAULT false NOT NULL
);


ALTER TABLE public.package_maintainer OWNER TO postgres;

--
-- Name: package_maintainer_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.package_maintainer ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.package_maintainer_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: pythonpackage; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.pythonpackage (
    id integer NOT NULL,
    license text NOT NULL,
    author_email text,
    classifier text,
    description_content_type text,
    home_page text,
    keywords text,
    maintainer text,
    maintainer_email text,
    platform text,
    project_url text,
    provides_extra text,
    requires_dist text,
    requires_external text,
    requires_python text,
    summary text,
    hash text NOT NULL
);


ALTER TABLE public.pythonpackage OWNER TO postgres;

--
-- Name: pythonrepository; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.pythonrepository (
    id integer NOT NULL,
    hash_method text DEFAULT 'SHA256'::text
);


ALTER TABLE public.pythonrepository OWNER TO postgres;

--
-- Name: repository; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.repository (
    id integer NOT NULL,
    version integer DEFAULT 0 NOT NULL,
    publication_uri text NOT NULL,
    name text NOT NULL,
    server_address text NOT NULL,
    published boolean DEFAULT false NOT NULL,
    deleted boolean DEFAULT false NOT NULL,
    resource_technology text NOT NULL,
    last_publication_successful boolean DEFAULT false NOT NULL,
    last_publication_timestamp date,
    last_modified_timestamp date
);


ALTER TABLE public.repository OWNER TO postgres;

--
-- Name: repository_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.repository ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.repository_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: repository_maintainer; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.repository_maintainer (
    id integer NOT NULL,
    user_id integer NOT NULL,
    repository_id integer NOT NULL,
    deleted boolean DEFAULT false NOT NULL
);


ALTER TABLE public.repository_maintainer OWNER TO postgres;

--
-- Name: repository_maintainer_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.repository_maintainer ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.repository_maintainer_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: role; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.role (
    id integer NOT NULL,
    value integer NOT NULL,
    name text NOT NULL,
    description text NOT NULL,
    deleted boolean DEFAULT false
);


ALTER TABLE public.role OWNER TO postgres;

--
-- Name: role_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.role ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.role_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: rpackage; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.rpackage (
    id integer NOT NULL,
    depends text,
    imports text,
    suggests text,
    system_requirements text,
    license text,
    md5sum text
);


ALTER TABLE public.rpackage OWNER TO postgres;

--
-- Name: rrepository; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.rrepository (
    id integer NOT NULL
);


ALTER TABLE public.rrepository OWNER TO postgres;

--
-- Name: submission; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.submission (
    id integer NOT NULL,
    submitter_id integer NOT NULL,
    package_id integer NOT NULL,
    deleted boolean DEFAULT false NOT NULL,
    changes text,
    state text NOT NULL,
    approver_id integer
);


ALTER TABLE public.submission OWNER TO postgres;

--
-- Name: submission_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.submission ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.submission_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: user; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."user" (
    id integer NOT NULL,
    role_id integer DEFAULT 4 NOT NULL,
    email text NOT NULL,
    name text NOT NULL,
    login text NOT NULL,
    active boolean NOT NULL,
    last_logged_in_on date,
    deleted boolean DEFAULT false NOT NULL,
    created_on date DEFAULT now() NOT NULL
);


ALTER TABLE public."user" OWNER TO postgres;

--
-- Name: user_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."user" ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.user_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: user_settings; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.user_settings (
    id integer NOT NULL,
    deleted boolean NOT NULL,
    language character varying(16) NOT NULL,
    theme character varying(16) NOT NULL,
    page_size integer NOT NULL,
    user_id integer NOT NULL
);


ALTER TABLE public.user_settings OWNER TO postgres;

--
-- Name: user_settings_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.user_settings ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.user_settings_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);

--
-- Data for Name: api_token; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.api_token (id, token, user_login) FROM stdin;
\.


--
-- Data for Name: changed_variable; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.changed_variable (id, changed_variable, value_before, value_after, newsfeed_event_id, deleted) FROM stdin;
\.


--
-- Data for Name: databasechangelog; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.databasechangelog (id, author, filename, dateexecuted, orderexecuted, exectype, md5sum, description, comments, tag, liquibase, contexts, labels, deployment_id) FROM stdin;
01_01_package_maintainer_table	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:25.485021	1	EXECUTED	9:95b4a05a472196987ef61cf5c0b085f4	createTable tableName=package_maintainer		\N	4.24.0	\N	\N	3187045047
01_02_package_table	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:25.518912	2	EXECUTED	9:c50a0ac06f197ba8075f3aacfe505abc	createTable tableName=package		\N	4.24.0	\N	\N	3187045047
01_03_repository_maintainer_table	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:25.548428	3	EXECUTED	9:b13809c915d1518e415de62cf66701bb	createTable tableName=repository_maintainer		\N	4.24.0	\N	\N	3187045047
01_04_repository_table	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:25.592381	4	EXECUTED	9:dbb34766b0993cd897da1d1b281c242b	createTable tableName=repository		\N	4.24.0	\N	\N	3187045047
01_05_role_table	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:25.665681	5	EXECUTED	9:8121e637cee7881d8c767577b26ec7c2	createTable tableName=role; insert tableName=role; insert tableName=role; insert tableName=role; insert tableName=role; sql		\N	4.24.0	\N	\N	3187045047
01_06_submmision_table	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:25.713237	6	EXECUTED	9:29082274243707c8ec037fa795719670	createTable tableName=submission		\N	4.24.0	\N	\N	3187045047
01_07_user_table	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:25.760529	7	EXECUTED	9:a0f928bcf916ddf01df91351c29e5618	createTable tableName=user; sql		\N	4.24.0	\N	\N	3187045047
01_08_event_table	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:25.838168	8	EXECUTED	9:013486f6dfc40e0e450c66b41e436cd7	createTable tableName=event; insert tableName=event; insert tableName=event; insert tableName=event		\N	4.24.0	\N	\N	3187045047
01_09_package_event_table	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:25.892317	9	EXECUTED	9:1c5e604b9e8d78cffa197a9966974694	createTable tableName=package_event		\N	4.24.0	\N	\N	3187045047
01_10_package_maintainer_event_table	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:25.931613	10	EXECUTED	9:61331af7378f840c5e077f2c0e379063	createTable tableName=package_maintainer_event		\N	4.24.0	\N	\N	3187045047
01_11_repository_event_table	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:25.971325	11	EXECUTED	9:ce1c56bf494c4bb5192478969e0d109b	createTable tableName=repository_event		\N	4.24.0	\N	\N	3187045047
01_12_repository_maintainer_event_table	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:26.018623	12	EXECUTED	9:c0fbe7c2a058a63ebd305399026eff22	createTable tableName=repository_maintainer_event		\N	4.24.0	\N	\N	3187045047
01_13_submission_event_table	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:26.056305	13	EXECUTED	9:4a8557b6238ed429f412141fd8d7e88a	createTable tableName=submission_event		\N	4.24.0	\N	\N	3187045047
01_14_user_event_table	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:26.090471	14	EXECUTED	9:c341b1e719aee0134a1735d409ed5efb	createTable tableName=user_event		\N	4.24.0	\N	\N	3187045047
01_15_addForeignKeyConstraint_by_user_package_event	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:26.135419	15	EXECUTED	9:82a07d265de3e8b3a3f5abbcdebff618	addForeignKeyConstraint baseTableName=package_event, constraintName=by_user, referencedTableName=user		\N	4.24.0	\N	\N	3187045047
01_16_addForeignKeyConstraint_by_user_package_maintainer_event	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:26.177307	16	EXECUTED	9:448de8ba3cb33d5484895bab84a125cf	addForeignKeyConstraint baseTableName=package_maintainer_event, constraintName=by_user, referencedTableName=user		\N	4.24.0	\N	\N	3187045047
01_17_addForeignKeyConstraint_by_user_repository_event	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:26.23328	17	EXECUTED	9:56405e2c41b0db4ae9eb22115452001d	addForeignKeyConstraint baseTableName=repository_event, constraintName=by_user, referencedTableName=user		\N	4.24.0	\N	\N	3187045047
01_18_addForeignKeyConstraint_by_user_repository_maintainer_event	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:26.292748	18	EXECUTED	9:cb3e1d8ef99b46582f9fb9069ccec404	addForeignKeyConstraint baseTableName=repository_maintainer_event, constraintName=by_user, referencedTableName=user		\N	4.24.0	\N	\N	3187045047
01_19_addForeignKeyConstraint_by_user_submission_event	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:26.339713	19	EXECUTED	9:245ceef2453b517d84089da12ba40dcc	addForeignKeyConstraint baseTableName=submission_event, constraintName=by_user, referencedTableName=user		\N	4.24.0	\N	\N	3187045047
01_20_addForeignKeyConstraint_by_user_user_event	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:26.385055	20	EXECUTED	9:021b97299b194e392840cbb62851eeef	addForeignKeyConstraint baseTableName=user_event, constraintName=by_user, referencedTableName=user		\N	4.24.0	\N	\N	3187045047
01_21_addForeignKeyConstraint_doing_event_package_event	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:26.440579	21	EXECUTED	9:2c55dfaeef6e6ecb0541dfead94694e4	addForeignKeyConstraint baseTableName=package_event, constraintName=doing_event, referencedTableName=event		\N	4.24.0	\N	\N	3187045047
01_22_addForeignKeyConstraint_doing_event_package_maintainer_event	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:26.493058	22	EXECUTED	9:2de0970d533667f83f38ddbdcd0c3319	addForeignKeyConstraint baseTableName=package_maintainer_event, constraintName=doing_event, referencedTableName=event		\N	4.24.0	\N	\N	3187045047
01_23_addForeignKeyConstraint_doing_event_repository_event	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:26.547952	23	EXECUTED	9:067e9d0dbde5d5a18d28251cce5f5599	addForeignKeyConstraint baseTableName=repository_event, constraintName=doing_event, referencedTableName=event		\N	4.24.0	\N	\N	3187045047
01_24_addForeignKeyConstraint_doing_event_repository_maintainer_event	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:26.611809	24	EXECUTED	9:6a9f846e606073715726a37e0e52ecd9	addForeignKeyConstraint baseTableName=repository_maintainer_event, constraintName=doing_event, referencedTableName=event		\N	4.24.0	\N	\N	3187045047
01_25_addForeignKeyConstraint_doing_event_submission_event	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:26.661697	25	EXECUTED	9:fd4484285736756442ad9ac5b728908f	addForeignKeyConstraint baseTableName=submission_event, constraintName=doing_event, referencedTableName=event		\N	4.24.0	\N	\N	3187045047
01_26_addForeignKeyConstraint_doing_event_user_event	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:26.70175	26	EXECUTED	9:5687fa7fc81f02646ae49b1aaafa2039	addForeignKeyConstraint baseTableName=user_event, constraintName=doing_event, referencedTableName=event		\N	4.24.0	\N	\N	3187045047
01_27_addForeignKeyConstraint_for_package_submission	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:26.73855	27	EXECUTED	9:258786b309ed21f1bd67c8d7a5e0e478	addForeignKeyConstraint baseTableName=submission, constraintName=for_package, referencedTableName=package		\N	4.24.0	\N	\N	3187045047
01_28_addForeignKeyConstraint_for_repository_package	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:26.768375	28	EXECUTED	9:754c968ef8822cc1c74bd76ee52be171	addForeignKeyConstraint baseTableName=package, constraintName=for_repository, referencedTableName=repository		\N	4.24.0	\N	\N	3187045047
01_29_addForeignKeyConstraint_from_user_submission	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:26.801314	29	EXECUTED	9:7b9ff0ba3ef060cbf7d593bcd808a4e1	addForeignKeyConstraint baseTableName=submission, constraintName=from_user, referencedTableName=user		\N	4.24.0	\N	\N	3187045047
01_30_addForeignKeyConstraint_has_role_user	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:26.842293	30	EXECUTED	9:4d1f2588dd2e052320482bf1b79e7896	addForeignKeyConstraint baseTableName=user, constraintName=has_role, referencedTableName=role		\N	4.24.0	\N	\N	3187045047
01_31_addForeignKeyConstraint_is_maintainer_of_package	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:26.875432	31	EXECUTED	9:57e6593272a2fa23a4146597af29de69	addForeignKeyConstraint baseTableName=package, constraintName=is_maintainer_of, referencedTableName=user		\N	4.24.0	\N	\N	3187045047
01_32_addForeignKeyConstraint_is_package_maintainer_package_maintainer	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:26.904907	32	EXECUTED	9:a0fdc8df9e104f0cd6c47618b81842c8	addForeignKeyConstraint baseTableName=package_maintainer, constraintName=is_package_maintainer, referencedTableName=user		\N	4.24.0	\N	\N	3187045047
01_33_addForeignKeyConstraint_is_package_maintainer_of_package_maintainer	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:26.933047	33	EXECUTED	9:dc24849d1186170f3425dc4f85f62df2	addForeignKeyConstraint baseTableName=package_maintainer, constraintName=is_package_maintainer_of, referencedTableName=repository		\N	4.24.0	\N	\N	3187045047
01_34_addForeignKeyConstraint_is_repository_maintainer_repository_maintainer	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:26.961528	34	EXECUTED	9:1480d984793c5859d6ee73cc50511999	addForeignKeyConstraint baseTableName=repository_maintainer, constraintName=is_repository_maintainer, referencedTableName=user		\N	4.24.0	\N	\N	3187045047
01_35_addForeignKeyConstraint_of_package_package_event	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:27.011609	35	EXECUTED	9:c7648b4382e93ebaeaf431b1e09e6f9b	addForeignKeyConstraint baseTableName=package_event, constraintName=of_package, referencedTableName=package		\N	4.24.0	\N	\N	3187045047
01_36_addForeignKeyConstraint_of_package_maintainer_package_maintainer_event	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:27.063324	36	EXECUTED	9:93ef6856576ef19d6b925a67ff0d6cc4	addForeignKeyConstraint baseTableName=package_maintainer_event, constraintName=of_package_maintainer, referencedTableName=package_maintainer		\N	4.24.0	\N	\N	3187045047
01_37_addForeignKeyConstraint_of_repository_repository_maintainer	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:27.094334	37	EXECUTED	9:6d3fde45691247a42e6410c2f8e8c32b	addForeignKeyConstraint baseTableName=repository_maintainer, constraintName=of_repository, referencedTableName=repository		\N	4.24.0	\N	\N	3187045047
01_38_addForeignKeyConstraint_of_repository_repository_event	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:27.134818	38	EXECUTED	9:5f228baa7a11ca336532d63095c8d6b4	addForeignKeyConstraint baseTableName=repository_event, constraintName=of_repository, referencedTableName=repository		\N	4.24.0	\N	\N	3187045047
01_39_addForeignKeyConstraint_of_repository_maintainer_repository_maintainer_event	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:27.175006	39	EXECUTED	9:002ac9abbda5c3c7446bb4601ba8aa35	addForeignKeyConstraint baseTableName=repository_maintainer_event, constraintName=of_repository_maintainer, referencedTableName=repository_maintainer		\N	4.24.0	\N	\N	3187045047
01_40_addForeignKeyConstraint_of_submission_submission_event	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:27.218898	40	EXECUTED	9:de0add036a987a6f90ee46e1980f0842	addForeignKeyConstraint baseTableName=submission_event, constraintName=of_submission, referencedTableName=submission		\N	4.24.0	\N	\N	3187045047
01_41_addForeignKeyConstraint_of_user_user_event	pgleska	db/changelog/schema/01_schema.yaml	2024-04-15 13:17:27.260603	41	EXECUTED	9:bc2618a82e794b1373b1d80247c078ee	addForeignKeyConstraint baseTableName=user_event, constraintName=of_user, referencedTableName=user		\N	4.24.0	\N	\N	3187045047
02_01_api_token_table	pgleska	db/changelog/schema/02_api_token.yaml	2024-04-15 13:17:27.286886	42	EXECUTED	9:83d9ba936f250042bdedf69c440c76c2	createTable tableName=api_token		\N	4.24.0	\N	\N	3187045047
03_01_update_package	pgleska	db/changelog/schema/03_modules.yaml	2024-04-15 13:17:27.307415	43	EXECUTED	9:ff3e3b0883c5e7261c450ef5a6977b54	addColumn tableName=package; update tableName=package; addNotNullConstraint columnName=dtype, tableName=package		\N	4.24.0	\N	\N	3187045047
03_02_update_submission	pgleska	db/changelog/schema/03_modules.yaml	2024-04-15 13:17:27.344476	44	EXECUTED	9:0532a59b1570a80c6e950213872d2f86	addColumn tableName=submission; update tableName=submission; addNotNullConstraint columnName=state, tableName=submission; sql; dropColumn columnName=accepted, tableName=submission		\N	4.24.0	\N	\N	3187045047
03_03_update_role	pgleska	db/changelog/schema/03_modules.yaml	2024-04-15 13:17:27.357804	45	EXECUTED	9:0c576c6e10c560ea371181d8ec3aa068	addColumn tableName=role; update tableName=role; addNotNullConstraint columnName=dtype, tableName=package		\N	4.24.0	\N	\N	3187045047
03_04_update_user	pgleska	db/changelog/schema/03_modules.yaml	2024-04-15 13:17:27.370044	46	EXECUTED	9:4ce9dec5826728fb6beb41ffb7923bd0	addColumn tableName=user; update tableName=user; addNotNullConstraint columnName=created_on, tableName=user		\N	4.24.0	\N	\N	3187045047
03_05_rpackage	pgleska	db/changelog/schema/03_modules.yaml	2024-04-15 13:17:27.400836	47	EXECUTED	9:e99080f2be8ab9c30ade09e5bed3ed22	createTable tableName=rpackage; sql		\N	4.24.0	\N	\N	3187045047
03_06_clear_package_columns	pgleska	db/changelog/schema/03_modules.yaml	2024-04-15 13:17:27.420955	48	EXECUTED	9:61a47bed80306a76386bb7a10c1fd30d	dropColumn columnName=depends, tableName=package; dropColumn columnName=imports, tableName=package; dropColumn columnName=suggests, tableName=package; dropColumn columnName=system_requirements, tableName=package; dropColumn columnName=license, tab...		\N	4.24.0	\N	\N	3187045047
03_07_update_repository	pgleska	db/changelog/schema/03_modules.yaml	2024-04-15 13:17:27.44263	49	EXECUTED	9:ec42885cba27c5b547db71d1467a5036	addColumn tableName=repository; update tableName=repository; addNotNullConstraint columnName=dtype, tableName=repository		\N	4.24.0	\N	\N	3187045047
03_08_rrepository_table	pgleska	db/changelog/schema/03_modules.yaml	2024-04-15 13:17:27.466077	50	EXECUTED	9:e1d66dd77690f767b5672ad1bfe53c95	createTable tableName=rrepository; sql		\N	4.24.0	\N	\N	3187045047
03_09_changed_variable_table	pgleska	db/changelog/schema/03_modules.yaml	2024-04-15 13:17:27.488622	51	EXECUTED	9:d1bf0bacac343d1d1683a3c767179585	createTable tableName=changed_variable		\N	4.24.0	\N	\N	3187045047
03_10_newsfeed_event_table	pgleska	db/changelog/schema/03_modules.yaml	2024-04-15 13:17:27.67394	52	EXECUTED	9:ea7a3f93ac021d6ec94ae4f17d9da170	createTable tableName=newsfeed_event; sql; dropTable tableName=user_event; dropTable tableName=submission_event; dropTable tableName=package_event; dropTable tableName=package_maintainer_event; dropTable tableName=repository_event; dropTable table...		\N	4.24.0	\N	\N	3187045047
03_11_addForeignKeyConstraint_author_newsfeed_event	pgleska	db/changelog/schema/03_modules.yaml	2024-04-15 13:17:27.700074	53	EXECUTED	9:9499dab977eb58547b394a72108a69e0	addForeignKeyConstraint baseTableName=newsfeed_event, constraintName=author, referencedTableName=user		\N	4.24.0	\N	\N	3187045047
03_12_addForeignKeyConstraint_related_packagemaintainer_newsfeed_event	pgleska	db/changelog/schema/03_modules.yaml	2024-04-15 13:17:27.728251	54	EXECUTED	9:31057a7ef089f19d5f378e0ed2dc1b2d	addForeignKeyConstraint baseTableName=newsfeed_event, constraintName=related_packagemaintainer, referencedTableName=package_maintainer		\N	4.24.0	\N	\N	3187045047
03_13_addForeignKeyConstraint_related_repositorymaintainer_newsfeed_event	pgleska	db/changelog/schema/03_modules.yaml	2024-04-15 13:17:27.75723	55	EXECUTED	9:4e48ef5cc390876546f8757892669fe6	addForeignKeyConstraint baseTableName=newsfeed_event, constraintName=related_repositorymaintainer, referencedTableName=repository_maintainer		\N	4.24.0	\N	\N	3187045047
03_14_addForeignKeyConstraint_related_user_newsfeed_event	pgleska	db/changelog/schema/03_modules.yaml	2024-04-15 13:17:27.797431	56	EXECUTED	9:f3607cf00bf1d4fb3d5f236cdadf007f	addForeignKeyConstraint baseTableName=newsfeed_event, constraintName=related_user, referencedTableName=user		\N	4.24.0	\N	\N	3187045047
03_15_addForeignKeyConstraint_related_submission_newsfeed_event	pgleska	db/changelog/schema/03_modules.yaml	2024-04-15 13:17:27.838717	57	EXECUTED	9:82371f68a9388e82fe4a876b38de9f56	addForeignKeyConstraint baseTableName=newsfeed_event, constraintName=related_submission, referencedTableName=submission		\N	4.24.0	\N	\N	3187045047
03_16_addForeignKeyConstraint_related_repository_newsfeed_event	pgleska	db/changelog/schema/03_modules.yaml	2024-04-15 13:17:27.873598	58	EXECUTED	9:eb3bc165b04f7e58809a0a5dee34e4fb	addForeignKeyConstraint baseTableName=newsfeed_event, constraintName=related_repository, referencedTableName=repository		\N	4.24.0	\N	\N	3187045047
03_17_addForeignKeyConstraint_related_package_newsfeed_event	pgleska	db/changelog/schema/03_modules.yaml	2024-04-15 13:17:27.910576	59	EXECUTED	9:04db4c84a30c358f4f505716d307f198	addForeignKeyConstraint baseTableName=newsfeed_event, constraintName=related_package, referencedTableName=package		\N	4.24.0	\N	\N	3187045047
03_18_addForeignKeyConstraint_newsfeed_event_changed_variable	pgleska	db/changelog/schema/03_modules.yaml	2024-04-15 13:17:27.946361	60	EXECUTED	9:94628480aef3e94085b6df50becf0038	addForeignKeyConstraint baseTableName=changed_variable, constraintName=newsfeed_event, referencedTableName=newsfeed_event		\N	4.24.0	\N	\N	3187045047
04_01_add_approver_to_submission	pgleska	db/changelog/schema/04_python.yaml	2024-04-15 13:17:27.963818	61	EXECUTED	9:0a2835b8da9b718b2caee707da3dbae6	addColumn tableName=submission; sql		\N	4.24.0	\N	\N	3187045047
04_02_addForeignKeyConstraint_approved_by_submission	pgleska	db/changelog/schema/04_python.yaml	2024-04-15 13:17:27.994653	62	EXECUTED	9:b9e13477ab66e5223295ecb62484ef0f	addForeignKeyConstraint baseTableName=submission, constraintName=approved_by, referencedTableName=user		\N	4.24.0	\N	\N	3187045047
04_03_update_package	pgleska	db/changelog/schema/04_python.yaml	2024-04-15 13:17:28.016214	63	EXECUTED	9:36bc81941c48c4155c8ef45ec4903673	renameColumn newColumnName=resource_technology, oldColumnName=dtype, tableName=package; update tableName=package		\N	4.24.0	\N	\N	3187045047
04_04_update_repository	pgleska	db/changelog/schema/04_python.yaml	2024-04-15 13:17:28.02919	64	EXECUTED	9:c1df88e1983e9cf74f26b434a117f768	renameColumn newColumnName=resource_technology, oldColumnName=dtype, tableName=repository; update tableName=repository		\N	4.24.0	\N	\N	3187045047
04a_02_pythonrepository_table	kkulesa	db/changelog/schema/04a_python.yaml	2024-04-15 13:17:28.055101	65	EXECUTED	9:865a9b23956593315695708e1d05065c	createTable tableName=pythonrepository		\N	4.24.0	\N	\N	3187045047
04a_03_pythonpackage	kkulesa	db/changelog/schema/04a_python.yaml	2024-04-15 13:17:28.087496	66	EXECUTED	9:777fc136d5efd7c15f07e4d0c4699bcc	dropNotNullConstraint columnName=description, tableName=package; dropNotNullConstraint columnName=author, tableName=package; dropNotNullConstraint columnName=title, tableName=package; createTable tableName=pythonpackage		\N	4.24.0	\N	\N	3187045047
05_01_user_settings_table	pgleska	db/changelog/schema/05_user_settings.yaml	2024-04-15 13:17:28.107993	67	EXECUTED	9:0ed0b1e4c20628cd0ad822ccdcb299dd	createTable tableName=user_settings		\N	4.24.0	\N	\N	3187045047
05_02_addForeignKeyConstraint_of_user_user_settings	pgleska	db/changelog/schema/05_user_settings.yaml	2024-04-15 13:17:28.139735	68	EXECUTED	9:c0404642438fdf4e3806d20b0970594d	addForeignKeyConstraint baseTableName=user_settings, constraintName=of_user, referencedTableName=user		\N	4.24.0	\N	\N	3187045047
06_01_access_token_table	dglebowska	db/changelog/schema/06_access_token.yaml	2024-04-15 13:17:28.161521	69	EXECUTED	9:033f46d42d267eb59a13a727390047f0	createTable tableName=access_token		\N	4.24.0	\N	\N	3187045047
06_02_addForeignKeyConstraint_of_user_access_token	dglebowska	db/changelog/schema/06_access_token.yaml	2024-04-15 13:17:28.209048	70	EXECUTED	9:8f732207e4596887e11e81668dfd6672	addForeignKeyConstraint baseTableName=access_token, constraintName=of_user, referencedTableName=user		\N	4.24.0	\N	\N	3187045047
06_03_update_newsfeed_event	pgleska	db/changelog/schema/06_access_token.yaml	2024-04-15 13:17:28.217913	71	EXECUTED	9:f7a498c24787e1e062a79c1363085ec2	addColumn tableName=newsfeed_event		\N	4.24.0	\N	\N	3187045047
\.


--
-- Data for Name: databasechangeloglock; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.databasechangeloglock (id, locked, lockgranted, lockedby) FROM stdin;
1	f	\N	\N
\.


--
-- Data for Name: newsfeed_event; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.newsfeed_event (id, "time", date, newsfeed_event_type, author_id, related_packagemaintainer_id, related_repositorymaintainer_id, related_user_id, related_submission_id, related_repository_id, related_package_id, deleted, related_accesstoken_id) FROM stdin;
\.


--
-- Data for Name: package; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.package (id, name, version, description, author, maintainer_id, repository_id, url, source, title, active, deleted, resource_technology) FROM stdin;
\.


--
-- Data for Name: package_maintainer; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.package_maintainer (id, user_id, package, repository_id, deleted) FROM stdin;
\.


--
-- Data for Name: pythonpackage; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.pythonpackage (id, license, author_email, classifier, description_content_type, home_page, keywords, maintainer, maintainer_email, platform, project_url, provides_extra, requires_dist, requires_external, requires_python, summary, hash) FROM stdin;
\.


--
-- Data for Name: pythonrepository; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.pythonrepository (id, hash_method) FROM stdin;
1	SHA256
2	SHA256
\.


--
-- Data for Name: repository; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.repository (id, version, publication_uri, name, server_address, published, deleted, resource_technology, last_publication_successful, last_publication_timestamp, last_modified_timestamp) FROM stdin;
1	0	http://localhost/repo/X	X	http://oa-rdepot-repo:8080/X	t	f	Python	t	'2024-06-27 12:30:25'	'2024-06-27 12:30:25'
3	0	http://localhost/repo/D	D	http://oa-rdepot-repo:8080/D	f	f	R	f	\N	'2024-06-21 12:30:25'
5	0	http://localhost/repo/G	G	http://oa-rdepot-repo:8080/G	f	f	R	f	\N	'2024-05-21 12:30:25'
6	0	http://localhost/repo/H	H	http://oa-rdepot-repo:8080/H	f	t	R	f	\N	'2024-04-21 12:30:25'
11	1	http://localhost/repo/testrepo11	testrepo11	http://oa-rdepot-repo:8080/testrepo11	t	t	Python	t	'2024-06-27 12:30:25'	'2024-06-27 12:30:25'
12	1	http://localhost/repo/testrepo12	testrepo12	http://oa-rdepot-repo:8080/testrepo12	f	t	Python	f	\N	'2024-03-21 12:30:25'
10	7	http://localhost/repo/testrepo10	testrepo10	http://oa-rdepot-repo:8080/testrepo10	f	f	Python	f	\N	'2024-02-21 12:30:25'
\.


--
-- Data for Name: repository_maintainer; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.repository_maintainer (id, user_id, repository_id, deleted) FROM stdin;
\.


--
-- Data for Name: role; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.role (id, value, name, description, deleted) FROM stdin;
1	0	user	User	f
2	1	packagemaintainer	Package Maintainer	f
3	2	repositorymaintainer	Repository Maintainer	f
4	3	admin	Administrator	f
\.


--
-- Data for Name: rpackage; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.rpackage (id, depends, imports, suggests, system_requirements, license, md5sum) FROM stdin;
\.


--
-- Data for Name: rrepository; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.rrepository (id) FROM stdin;
\.


--
-- Data for Name: submission; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.submission (id, submitter_id, package_id, deleted, changes, state, approver_id) FROM stdin;
\.


--
-- Data for Name: user; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."user" (id, role_id, name, email, login, active, last_logged_in_on, deleted, created_on) FROM stdin;
8	4	Local Admin User	admin@localhost	admin	f	\N	f	1970-01-01
7	1	Isaac Newton	newton@ldap.forumsys.com	newton	t	2020-03-28	f	1970-01-01
6	2	Galileo Galilei	galieleo@ldap.forumsys.com	galieleo	t	2020-03-28	f	1970-01-01
5	3	Nikola Tesla	tesla@ldap.forumsys.com	tesla	t	2020-03-29	f	1970-01-01
4	4	Albert Einstein	einstein@ldap.forumsys.com	einstein	t	2020-08-20	f	1970-01-01
9	1	John Doe	doe@localhost	doe	f	2020-08-20	f	1970-01-01
10	1	Alfred Tarski	tarski@localhost	tarski	t	2020-08-25	f	1970-01-01
\.


--
-- Data for Name: user_settings; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.user_settings (id, deleted, language, theme, page_size, user_id) FROM stdin;
\.


--
-- Data for Name: access_token; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.access_token (id, user_id, name, value, creation_date, expiration_date, active, deleted) FROM stdin;
1	4	try	$2a$10$3TW2U4rpOPOPmBhjzi/fhOc9wXuOzToKm50RBqOrHBPM26XcSwHmm	2023-11-15	2024-11-15	t	f
2	7	second	$2a$10$SWxoWZVvKAlB0/50Eue5I.zaNISqvMNQt0z1R.uW9ffzuVAumSFeW	2023-12-04	2024-12-04	t	f
3	7	deactivated	$2a$10$lYWNkyYCl0tFS70wbimw4u9jUFM.jZzGTarEu46KsoqdiQROGDgaK	2023-12-05	2023-12-10	f	f
4	7	expired	$2a$10$ehM3ODJi6FNJcABKlHT1AOxmpuQZKB7RxnCCC9z8tI7E6tJWFfqlS	2023-12-06	2023-12-07	f	f
5	4	century	$2a$10$pRIEsjpErZ3pt.k2.9yZ3.l8YV9GATfH3vKe4gZuM2IdF3yfct56C	2024-01-19	2124-12-31	t	f
6	5	century	$2a$10$BCP6uFaJRLJD2fx3IWDRNOnFkkKTugWjCFIe8CNoC.iR.MbM.ubOO	2024-01-19	2124-12-31	t	f
7	6	century	$2a$10$bAprhSNIWmFXBY5RA9SgKOpmGpaeTzcrDWXceawLbky6WFG.3nqqK	2024-01-19	2124-12-31	t	f
8	7	century	$2a$10$sfnJ0DtxdmqCOGemySK1qOFT1COAWTHguCEa9NlIH/ZqcYt7fTLsK	2024-01-19	2124-12-31	t	f
\.

--
-- Name: access_token_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.access_token_id_seq', 1, false);


--
-- Name: api_token_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.api_token_id_seq', 1, false);


--
-- Name: changed_variable_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.changed_variable_id_seq', 1, false);


--
-- Name: newsfeed_event_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.newsfeed_event_id_seq', 1, false);


--
-- Name: package_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.package_id_seq', 1, false);


--
-- Name: package_maintainer_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.package_maintainer_id_seq', 1, false);


--
-- Name: repository_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.repository_id_seq', 12, true);


--
-- Name: repository_maintainer_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.repository_maintainer_id_seq', 1, false);


--
-- Name: role_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.role_id_seq', 5, true);


--
-- Name: submission_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.submission_id_seq', 1, false);


--
-- Name: user_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.user_id_seq', 1, false);


--
-- Name: user_settings_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.user_settings_id_seq', 1, false);


--
-- Name: access_token access_token_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.access_token
    ADD CONSTRAINT access_token_pkey PRIMARY KEY (id);


--
-- Name: api_token api_token_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.api_token
    ADD CONSTRAINT api_token_pkey PRIMARY KEY (id);


--
-- Name: api_token api_token_token_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.api_token
    ADD CONSTRAINT api_token_token_key UNIQUE (token);


--
-- Name: api_token api_token_user_login_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.api_token
    ADD CONSTRAINT api_token_user_login_key UNIQUE (user_login);


--
-- Name: changed_variable changed_variable_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.changed_variable
    ADD CONSTRAINT changed_variable_pkey PRIMARY KEY (id);


--
-- Name: databasechangeloglock databasechangeloglock_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.databasechangeloglock
    ADD CONSTRAINT databasechangeloglock_pkey PRIMARY KEY (id);


--
-- Name: newsfeed_event newsfeed_event_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.newsfeed_event
    ADD CONSTRAINT newsfeed_event_pkey PRIMARY KEY (id);


--
-- Name: package_maintainer package_maintainer_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.package_maintainer
    ADD CONSTRAINT package_maintainer_pkey PRIMARY KEY (id);


--
-- Name: package package_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.package
    ADD CONSTRAINT package_pkey PRIMARY KEY (id);


--
-- Name: pythonpackage pythonpackage_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.pythonpackage
    ADD CONSTRAINT pythonpackage_pkey PRIMARY KEY (id);


--
-- Name: pythonrepository pythonrepository_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.pythonrepository
    ADD CONSTRAINT pythonrepository_pkey PRIMARY KEY (id);


--
-- Name: repository_maintainer repository_maintainer_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.repository_maintainer
    ADD CONSTRAINT repository_maintainer_pkey PRIMARY KEY (id);


--
-- Name: repository repository_name_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.repository
    ADD CONSTRAINT repository_name_key UNIQUE (name);


--
-- Name: repository repository_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.repository
    ADD CONSTRAINT repository_pkey PRIMARY KEY (id);


--
-- Name: repository repository_publication_uri_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.repository
    ADD CONSTRAINT repository_publication_uri_key UNIQUE (publication_uri);


--
-- Name: role role_description_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.role
    ADD CONSTRAINT role_description_key UNIQUE (description);


--
-- Name: role role_name_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.role
    ADD CONSTRAINT role_name_key UNIQUE (name);


--
-- Name: role role_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.role
    ADD CONSTRAINT role_pkey PRIMARY KEY (id);


--
-- Name: role role_value_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.role
    ADD CONSTRAINT role_value_key UNIQUE (value);


--
-- Name: rpackage rpackage_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.rpackage
    ADD CONSTRAINT rpackage_pkey PRIMARY KEY (id);


--
-- Name: rrepository rrepository_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.rrepository
    ADD CONSTRAINT rrepository_pkey PRIMARY KEY (id);


--
-- Name: submission submission_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.submission
    ADD CONSTRAINT submission_pkey PRIMARY KEY (id);


--
-- Name: user user_email_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT user_email_key UNIQUE (email);


--
-- Name: user user_login_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT user_login_key UNIQUE (login);


--
-- Name: user user_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT user_pkey PRIMARY KEY (id);


--
-- Name: user_settings user_settings_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_settings
    ADD CONSTRAINT user_settings_pkey PRIMARY KEY (id);


--
-- Name: user_settings user_settings_user_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_settings
    ADD CONSTRAINT user_settings_user_id_key UNIQUE (user_id);


--
-- Name: submission approved_by; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.submission
    ADD CONSTRAINT approved_by FOREIGN KEY (approver_id) REFERENCES public."user"(id);


--
-- Name: newsfeed_event author; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.newsfeed_event
    ADD CONSTRAINT author FOREIGN KEY (author_id) REFERENCES public."user"(id);


--
-- Name: submission for_package; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.submission
    ADD CONSTRAINT for_package FOREIGN KEY (package_id) REFERENCES public.package(id);


--
-- Name: package for_repository; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.package
    ADD CONSTRAINT for_repository FOREIGN KEY (repository_id) REFERENCES public.repository(id);


--
-- Name: submission from_user; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.submission
    ADD CONSTRAINT from_user FOREIGN KEY (submitter_id) REFERENCES public."user"(id);


--
-- Name: user has_role; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT has_role FOREIGN KEY (role_id) REFERENCES public.role(id);


--
-- Name: package is_maintainer_of; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.package
    ADD CONSTRAINT is_maintainer_of FOREIGN KEY (user_maintainer_id) REFERENCES public."user"(id);


--
-- Name: package_maintainer is_package_maintainer; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.package_maintainer
    ADD CONSTRAINT is_package_maintainer FOREIGN KEY (user_id) REFERENCES public."user"(id);


--
-- Name: package_maintainer is_package_maintainer_of; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.package_maintainer
    ADD CONSTRAINT is_package_maintainer_of FOREIGN KEY (repository_id) REFERENCES public.repository(id);


--
-- Name: repository_maintainer is_repository_maintainer; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.repository_maintainer
    ADD CONSTRAINT is_repository_maintainer FOREIGN KEY (user_id) REFERENCES public."user"(id);


--
-- Name: changed_variable newsfeed_event; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.changed_variable
    ADD CONSTRAINT newsfeed_event FOREIGN KEY (newsfeed_event_id) REFERENCES public.newsfeed_event(id) ON DELETE CASCADE;


--
-- Name: repository_maintainer of_repository; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.repository_maintainer
    ADD CONSTRAINT of_repository FOREIGN KEY (repository_id) REFERENCES public.repository(id);


--
-- Name: user_settings of_user; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_settings
    ADD CONSTRAINT of_user FOREIGN KEY (user_id) REFERENCES public."user"(id);


--
-- Name: access_token of_user; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.access_token
    ADD CONSTRAINT of_user FOREIGN KEY (user_id) REFERENCES public."user"(id);


--
-- Name: newsfeed_event related_package; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.newsfeed_event
    ADD CONSTRAINT related_package FOREIGN KEY (related_package_id) REFERENCES public.package(id);


--
-- Name: newsfeed_event related_packagemaintainer; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.newsfeed_event
    ADD CONSTRAINT related_packagemaintainer FOREIGN KEY (related_packagemaintainer_id) REFERENCES public.package_maintainer(id);


--
-- Name: newsfeed_event related_repository; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.newsfeed_event
    ADD CONSTRAINT related_repository FOREIGN KEY (related_repository_id) REFERENCES public.repository(id);


--
-- Name: newsfeed_event related_repositorymaintainer; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.newsfeed_event
    ADD CONSTRAINT related_repositorymaintainer FOREIGN KEY (related_repositorymaintainer_id) REFERENCES public.repository_maintainer(id);


--
-- Name: newsfeed_event related_submission; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.newsfeed_event
    ADD CONSTRAINT related_submission FOREIGN KEY (related_submission_id) REFERENCES public.submission(id);


--
-- Name: newsfeed_event related_user; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.newsfeed_event
    ADD CONSTRAINT related_user FOREIGN KEY (related_user_id) REFERENCES public."user"(id);


--
-- PostgreSQL database dump complete
--
