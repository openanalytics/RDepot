<!DOCTYPE html>
<html>
    <head th:replace="fragments/header :: head (module='users')">
    </head>
    <body>
        <div class="mdl-layout mdl-js-layout">
            <header th:replace="fragments/header :: topbar (module='users')"></header>
            <div th:replace="fragments/header :: drawer (module='users')"></div>
            <main class="mdl-layout__content">
                <table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp full-width">
                    <thead>
                        <tr>
                            <th class="mdl-data-table__cell--non-numeric full-width">Name</th>
                            <th class="mdl-data-table__cell--non-numeric">E-mail</th>
                            <th class="mdl-data-table__cell--non-numeric">User name</th>
                            <th class="mdl-data-table__cell--non-numeric">Role</th>
                            <th class="mdl-data-table__cell--non-numeric">Active</th>
                            <th class="mdl-data-table__cell--non-numeric">Actions</th>
                        </tr>                
                    </thead>
                    <tbody>
                        <tr th:each="user : ${users}" >
                            <td class="mdl-data-table__cell--non-numeric user-name" th:data1="${user.login}" th:data2="@{/manager}" th:text="${user.name}" th:onclick="showUserDialog(this.getAttribute('data1'),this.getAttribute('data2'))"></td>
                            <td class="mdl-data-table__cell--non-numeric user-email" th:data1="${user.login}" th:data2="@{/manager}" th:text="${user.email}" th:onclick="showUserDialog(this.getAttribute('data1'),this.getAttribute('data2'))"></td>
                            <td class="mdl-data-table__cell--non-numeric user-username" th:text="${user.login}" th:data1="${user.login}" th:data2="@{/manager}" th:onclick="showUserDialog(this.getAttribute('data1'),this.getAttribute('data2'))"></td>
                            <td class="mdl-data-table__cell--non-numeric user-role"  th:data1="${user.login}" th:data2="@{/manager}" th:text="${user.role.description}" th:onclick="showUserDialog(this.getAttribute('data1'),this.getAttribute('data2'))"></td>
                            <td class="mdl-data-table__cell--non-numeric">
                                <label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" th:for="'checkbox-' + ${user.id}" th:data1="${user.id}" th:data2="@{/manager}" th:onclick="changeActive(this.getAttribute('data1'),this.getAttribute('data2'))">
                                    <input type="checkbox" th:id="'checkbox-' + ${user.id}" class="mdl-checkbox__input" th:checked="${user.active}"/>
                                </label>
                            </td>
                            <td class="mdl-data-table__cell--non-numeric">
                                <button class="mdl-button mdl-js-button mdl-button--icon mdl-button--colored" style="color:rgb(50, 166, 211);" th:data1="${user.id}" th:data2="${user.login}" th:data3="${user.role.description}" th:data4="${user.name}" th:data5="${user.email}" th:data6="${user.active}" th:data7="@{/manager}" th:onclick="openEditUserDialog(this.getAttribute('data1'), this.getAttribute('data2'), this.getAttribute('data3'),this.getAttribute('data4'),this.getAttribute('data5'), this.getAttribute('data6'), this.getAttribute('data7'))">
                                    <i class="material-icons">edit</i>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </main>
        </div>
        <dialog class="mdl-dialog"></dialog>
    </body>
</html>
